<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ie10 - ff - chrome 等返回rgb北京颜色而不是hex颜色值得问题</title>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
</head>
<body style="background-color:red">
<script type="text/javascript">
console.log($("body").css("background-color"));

$.fn.getBackgroundColor = function() {
	var rgb = $(this).css("background-color");
	if (rgb > 0) {
		return rgb;
	} else {
		rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
		function hex(x) {
			return ("0" + parseInt(x).toString(16)).slice(-2);
		}
		return rgb = "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
	}
}
var bg = $("body").getBackgroundColor();
console.log(bg);
</script>
</body>
</html>
